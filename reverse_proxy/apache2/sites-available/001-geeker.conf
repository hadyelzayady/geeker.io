# Reverse-proxy: redirect
# - /node -> nodejs server
# - /go   _> golang server
<VirtualHost *:80>
	ServerAdmin hadyelzayady@yahoo.com

	ServerName geek.io
	ServerAlias *.geek.io

	Alias /favicon.ico /usr/share/apache2/icons/favicon.ico

	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel debug
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	#disable forward proxy as we use reverse proxy
	ProxyRequests off
	#redirect geeker.io/node/hello to http://node-server/hello
	ProxyPass /node http://node_server:8080/

	# enabled: if node-server redirect to /redirect, apache will rewrite url to /node/redirect
	# disabled: if node-server redirect to /redirect, user will be redirected to /redirect
	# ProxyPassReverse /node http://node_server:8080/
</VirtualHost>
